{"version":3,"file":"gulp-print.js","sources":["src/plugin.ts"],"sourcesContent":["import * as mapNs from 'map-stream';\nlet map: any = (<any>mapNs).default || mapNs;\nimport * as path from 'path';\nimport * as fancyLog from 'fancy-log';\nimport * as colors from 'ansi-colors';\nimport * as stream from 'stream';\nimport * as vinyl from 'vinyl';\n\nexport interface FormatFunction {\n  (filepath: String): String;\n}\n\nexport interface LogFunction {\n  (message: String): void;\n}\n\nlet log: LogFunction = fancyLog;\n\nexport function setLogFunction(fn: LogFunction): void {\n  log = fn;\n}\n\nexport default function gulpPrint(format?: FormatFunction): stream.Stream {\n  if (!format) {\n    format = (filepath: String): String => filepath;\n  }\n\n  function mapFile(file: vinyl, cb: mapNs.INewDataCallback): void {\n    const filepath = colors.magenta(path.relative(process.cwd(), file.path));\n    const formatted = format(filepath);\n\n    if (formatted) {\n      log(formatted);\n    }\n\n    cb(null, file);\n  }\n\n  return map(mapFile);\n}\n"],"names":["mapNs.default","colors.magenta","path.relative"],"mappings":";;;;;;;;AACA,IAAI,GAAG,GAAcA,cAAc,IAAI,KAAK,CAAC;AAC7C,AAcA,IAAI,GAAG,GAAgB,QAAQ,CAAC;AAEhC,AAEC;AAED,mBAAkC,MAAuB;IACvD,IAAI,CAAC,MAAM,EAAE;QACX,MAAM,GAAG,CAAC,QAAgB,KAAa,QAAQ,CAAC;KACjD;IAED,iBAAiB,IAAW,EAAE,EAA0B;QACtD,MAAM,QAAQ,GAAGC,cAAc,CAACC,aAAa,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACzE,MAAM,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;QAEnC,IAAI,SAAS,EAAE;YACb,GAAG,CAAC,SAAS,CAAC,CAAC;SAChB;QAED,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KAChB;IAED,OAAO,GAAG,CAAC,OAAO,CAAC,CAAC;CACrB;;;;"}